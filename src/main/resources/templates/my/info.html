<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/myLayout}">
<main id="myLayout" layout:fragment="content">
        <div id="my">
            <nav>
                <div>
                    <a th:href="@{/my/home}"><img th:src="@{/my/images/my_logo.jpg}" alt="나의쇼핑정보"></a>
                    <ol>
                        <li><a th:href="@{/my/order}">주문·배송<span class="delivery">1</span></a></li>
                        <li><a th:href="@{/my/coupon}">할인쿠폰<span class="coupon">1</span></a></li>
                        <li><a th:href="@{/my/point}">포인트<span class="point">1,000</span></a></li>
                        <li><a th:href="@{/my/qna}">문의내역<span class="qna">1</span></a></li>
                    </ol>

                </div>
            </nav>

            <div class="info">
                <ul>
                    <span class="menu_else"></span>
                    <li><a th:href="@{/my/order}">전체주문내역</a></li>
                    <!--<li><a href="./favorite.html">관심상품</a></li>-->
                    <li><a th:href="@{/my/point}">포인트내역</a></li>
                    <li><a th:href="@{/my/coupon}">쿠폰</a></li>
                    <li><a th:href="@{/my/review}">나의리뷰</a></li>
                    <li><a th:href="@{/my/qna}">문의하기</a></li>
                    <li class="on"><a th:href="@{/my/info}">나의설정</a></li>
                </ul>

                <section>
                    <a th:href="@{#}"><img th:src="@{/my/images/my_banner1.jpg}" alt="패션, 타운 하나로 끝" class="banner"></a>

                    <article>
                        <h3>회원정보 설정</h3>

                        <table border="0">
                            <tr>
                                <td>사용자 ID</td>
                                <!-- 아이디 뒤 네자리 마스킹 처리 -->
                                <td th:text="${#strings.substring(#authentication.principal.member.uid, 0, #authentication.principal.member.uid.length() - 4)} + '****'"></td>
                            </tr>
                            <tr>
                                <td>비밀번호</td>
                                <td>
                                    <button id="btnChangePass">비밀번호 수정</button>
                                </td>
                            </tr>
                            <tr>
                                <td>이름</td>
                                <td th:text="${#strings.substring(#authentication.principal.member.name, 0, 1)} + '*' + ${#strings.substring(#authentication.principal.member.name, 2)}"></td>

                            </tr>
                            <!-- 추가 -->
                            <tr>
                                <td>닉네임</td>
                                <td>
                                    <input text th:value="${#authentication.principal.member.nick}">
                                    <button id="btnChangeNick">수정하기</button>
                                </td>
                            </tr>
                            <tr>
                                <td>가입날짜</td>
                                <td th:text="${#temporals.format(#authentication.principal.member.rdate, 'yyyy-MM-dd')}"></td>
                            </tr>
                            <tr>
                                <td>E-mail</td>
                                <td>
                                    <input type="text" name="email1" th:value="${#strings.substring(#authentication.principal.member.email, 0, #strings.indexOf(#authentication.principal.member.email, '@'))}">@
                                    <input type="text" name="email2" th:value="${#strings.substring(#authentication.principal.member.email, #strings.indexOf(#authentication.principal.member.email, '@') + 1)}">
                                    <select>
                                        <option>직접입력</option>
                                        <option>naver.com</option>
                                        <option>daum.net</option>
                                        <option>gmail.com</option>
                                        <option>nate.com</option>
                                        <option>outlook.com</option>
                                    </select>
                                    <button id="btnChangeEmail">수정하기</button>
                                </td>
                            </tr>
                            <tr>
                                <td>휴대폰</td>
                                <td>
                                    <p class="hp">
                                        <input type="text" name="hp1" th:value="${#strings.substring(#authentication.principal.member.hp, 0, 3)}"/>-
                                        <input type="text" name="hp2" th:value="${#strings.substring(#authentication.principal.member.hp, 4, 8)}"/>-
                                        <input type="text" name="hp3" th:value="${#strings.substring(#authentication.principal.member.hp, 9)}"/>
                                        <button id="btnChangeHp">수정하기</button>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>주소</td>
                                <td>
                                    <input type="text" name="zip" th:value="${#authentication.principal.member.zip}"/>
                                    <button id="btnFindZip">주소검색</button>
                                    <p class="address">
                                        <input type="text" name="addr1" th:value="${#authentication.principal.member.addr1}"/>
                                        <input type="text" name="addr2" th:value="${#authentication.principal.member.addr2}"/>
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>회원탈퇴</td>
                                <td>
                                    <button id="btnWithdraw">탈퇴하기</button>
                                </td>
                            </tr>
                        </table>
                        <button id="btnInfoChange">수정하기</button>
                    </article>
                </section>

            </div>
        </div>
</main>