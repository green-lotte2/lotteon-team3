<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/productLayout}">

            <section class="list" layout:fragment="content">
              <!-- 제목, 페이지 네비게이션 -->
              <nav>
                <h1>상품목록</h1>
                  <p>HOME > <span>[[${c1Name}]]</span> > <span>[[${c2Name}]]</span> > <strong th:text="${c3Name}"> </strong></p>
              </nav>

              <!-- 정렬 메뉴 -->
              <ul class="sort">
                  <li>
                    <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='sold', how='DESC')}"
                       th:class="${pageResponseDTO.sort eq 'sold'? 'on' : 'off'}">
                      판매많은순
                    </a>
                  </li>
                  <li>
                      <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='price', how='ASC')}"
                         th:class="${pageResponseDTO.how eq 'ASC'? 'on' : 'off'}">
                      낮은가격순
                      </a>
                  </li>
                  <li>
                      <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='price', how='DESC')}"
                         th:class="${pageResponseDTO.sort eq 'price'? 'on' : 'off'}">
                          높은가격순
                      </a>
                  </li>
                  <li>
                      <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='score', how='DESC')}"
                         th:class="${pageResponseDTO.sort eq 'score'? 'on' : 'off'}">
                          평점높은순
                      </a>
                  </li>
                  <li>
                      <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='review', how='DESC')}"
                         th:class="${pageResponseDTO.sort eq 'review'? 'on' : 'off'}">
                          후기많은순
                      </a>
                  </li>
                  <li>
                      <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2}, sort='rdate', how='DESC')}"
                         th:class="${pageResponseDTO.sort eq 'rdate'? 'on' : 'off'}">
                          최근등록순
                      </a>
                  </li>
              </ul>

              <!-- 상품목록 -->
              <div class="row row-cols-md-2">
                    <div th:each="product : ${pageResponseDTO.dtoList}" class="card card h-100" style="width: 18rem; margin-right: 10px;">
                        <a th:href="@{/product/view(prodNo=${product.prodNo},cate1=${product.cate1},cate2=${product.cate2})}" class="thumb">
                            <img th:src="@{'/prodImg/'+ ${product.thumb1}}" class="card-img-top" style="width: 100%;" alt="상품이미지">
                        </a>
                              <div class="card-body">
                                  <a th:href="@{/product/view(prodNo=${product.prodNo},cate1=${product.cate1},cate2=${product.cate2})}" class="thumb">
                                      <h5 class="seller" th:text=" '[' + ${product.company}+ ']'"></h5> <h6></h6>
                                    <p class="card-text">[[${product.descript}]]</p>
                                    <p>[[${product.price}]]원</p>
                                    <ul>
                                      <li><ins class="dis-price">[[${product.price}]]</ins></li>
                                      <li>
                                        <span class="discount">[[${product.discount}]]% 할인</span>
                                        <del class="org-price">[[${product.price}]]</del>
                                      </li>
                                      <li><span class="free-delivery">무료배송</span></li>
                                    </ul>
                                  </a>
                              </div>
                    </div>
              </div>

              <!-- 상품목록 페이지번호 -->
              <div class="paging">
                <span class="prev" th:if="${pageResponseDTO.prev}">
                  <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2},pg=${pageResponseDTO.start - 1})}"><&nbsp;이전</a>
                </span>
                <span th:each="num : ${#numbers.sequence(pageResponseDTO.start, pageResponseDTO.end)}" class="num">
                  <a th:classappend="${pageResponseDTO.pg eq num ? 'on' : 'off'}" th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2},pg=${num})}">
                      [[${num}]]
                  </a>
                </span>
                <span class="next" th:if="${pageResponseDTO.next}">
                  <a th:href="@{/product/list(cate1=${pageResponseDTO.cate1},cate2=${pageResponseDTO.cate2},pg=${pageResponseDTO.end + 1})}">다음&nbsp;></a>
                </span>
              </div>
            </section>
        </main>
