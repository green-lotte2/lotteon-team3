<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/adminLayout}">
<section id="admin-config-banner" layout:fragment="content">
    <script>
        // 배너 등록 폼 공개
        function addBanner() {
            const bannerPop = document.getElementById('bannerRegister');
            bannerPop.classList.add('on');
        }

        // 이미지 파일만 올릴 수 있게 Check
        function chkImg(obj) {
            const file_kind = obj.value.lastIndexOf('.');
            const file_name = obj.value.substring(file_kind + 1, obj.length);
            const file_type = file_name.toLowerCase();

            const chkImg = ['jpg', 'gif', 'png', 'jpeg', 'bmp'];

            // 이미지 파일이 아닌 경우
            if (chkImg.indexOf(file_type) == -1) {
                alert('이미지 파일만 선택할 수 있습니다.');
                const parent_Obj = obj.parentNode
                const node = parent_Obj.replaceChild(obj.cloneNode(true), obj);

                // input 태그 비우기
                const inputFile = document.getElementById("file").select();
                inputFile.value = "";
                return false;
            }
        }

        // 배너 위치 선택하면 사이즈 크기 알려주기
        function infoSize(cate) {
            const infoSize = document.getElementById('infoSize');
            let infoP = "";
            switch (cate) {
                case "main-top" :
                    infoP = "<strong>Tip!</strong> 메인 - 상단 이미지 사이즈는 1200 * 80 입니다.";
                    break;
                case "main-slider" :
                    infoP = "<strong>Tip!</strong> 메인 - 슬라이더 이미지 사이즈는 985 * 447 입니다.";
                    break;
                case "product" :
                    infoP = "<strong>Tip!</strong> 상품 - 상세보기 이미지 사이즈는 456 * 60 입니다.";
                    break;
                case "login" :
                    infoP = "<strong>Tip!</strong> 회원 - 로그인 이미지 사이즈는 425 * 260 입니다.";
                    break;
                case "myPage" :
                    infoP = "<strong>Tip!</strong> 마이페이지 이미지 사이즈는 810 * 86 입니다.";
                    break;
            }
            infoSize.innerHTML = infoP;
        }
    </script>
    <nav>
        <h3>배너관리</h3>
        <p>
            HOME > 환경설정 > <strong>배너관리</strong>
        </p>
    </nav>

    <article id="tabs" class="ui-tabs ui-corner-all ui-widget ui-widget-content">
        <ul id="tabUl" role="tablist" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix">
            <!-- 해당 li 클래스에 ui-state-active ui-tabs-active -->
            <li id="tabLi1" class="ui-tabs-tab ui-corner-top ui-state-default ui-tab "><a href="#tabs1"
                                                                                          class="ui-tabs-anchor">메인 상단
                배너</a></li>
            <li id="tabLi2" class="ui-tabs-tab ui-corner-top ui-state-default ui-tab"><a href="#tabs2"
                                                                                         class="ui-tabs-anchor">메인 슬라이더
                배너</a></li>
            <li id="tabLi3" class="ui-tabs-tab ui-corner-top ui-state-default ui-tab"><a href="#tabs3"
                                                                                         class="ui-tabs-anchor">상품 상세보기
                배너</a></li>
            <li id="tabLi4" class="ui-tabs-tab ui-corner-top ui-state-default ui-tab"><a href="#tabs4"
                                                                                         class="ui-tabs-anchor">회원 로그인
                배너</a></li>
            <li id="tabLi5" class="ui-tabs-tab ui-corner-top ui-state-default ui-tab"><a href="#tabs5"
                                                                                         class="ui-tabs-anchor">마이페이지
                배너</a></li>
        </ul>
        <th:block th:each="banner : ${banners}">
            <th:block th:switch="${banner.cate}">
                <!-- 메인 상단 배너-->
                <section th:case="main-top" id="tabs1">
                    <h4>메인 상단배너</h4>
                    <p>
                        쇼핑몰 메인 상단에 출력되는 배너입니다.
                    </p>
                    <table>
                        <tr>
                            <th><input type="checkbox" name="all"/></th>
                            <th>배너번호</th>
                            <th>이미지</th>
                            <th>배너정보</th>
                            <th>배너위치</th>
                            <th>시작날짜</th>
                            <th>종료날짜</th>
                            <th>시작시간</th>
                            <th>종료시간</th>
                            <th>관리</th>
                        </tr>

                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>[[${banner.bno}]]</td>
                            <td><img th:src="@{/images/topBanner1.png}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>메인 - 상단</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>201603292</td>
                            <td><img th:src="@{/images/topBanner2.png}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>메인 - 상단</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                    </table>
                    <input type="button" class="btnNegative" value="선택삭제"/>
                    <a th:href="@{/admin/config/register}" class="btnPositive btnRegister">등록하기</a>
                </section>

                <!-- 메인 슬라이더 배너-->
                <section th:case="main-slider" id="tabs2">
                    <h4>메인 슬라이더배너</h4>
                    <p>
                        쇼핑몰 메인 슬라이더 영역에 노출되는 배너입니다.
                    </p>
                    <table>
                        <tr>
                            <th><input type="checkbox" name="all"/></th>
                            <th>배너번호</th>
                            <th>이미지</th>
                            <th>배너정보</th>
                            <th>배너위치</th>
                            <th>시작날짜</th>
                            <th>종료날짜</th>
                            <th>시작시간</th>
                            <th>종료시간</th>
                            <th>관리</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>[[${banner.bno}]]</td>
                            <td><img th:src="@{/images/slider_item1.jpg}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>메인 - 슬라이더</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                    </table>
                    <input type="button" class="btnNegative" value="선택삭제"/>
                    <input type="button" class="btnPositive btnRegister" value="등록하기" onclick="addBanner()"/>
                </section>

                <!-- 상품 상세보기 배너-->
                <section th:case="product" id="tabs3">
                    <h4>상품 상세보기 배너</h4>
                    <p>
                        상품 상세보기 상품수량 입력 상단부에 노출되는 배너입니다.
                    </p>
                    <table>
                        <tr>
                            <th><input type="checkbox" name="all"/></th>
                            <th>배너번호</th>
                            <th>이미지</th>
                            <th>배너정보</th>
                            <th>배너위치</th>
                            <th>시작날짜</th>
                            <th>종료날짜</th>
                            <th>시작시간</th>
                            <th>종료시간</th>
                            <th>관리</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>201603292</td>
                            <td><img th:src="@{images/vip_plcc_banner.png}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>상품 - 상세보기</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                    </table>
                    <input type="button" class="btnNegative" value="선택삭제"/>
                    <input type="button" class="btnPositive btnRegister" value="등록하기" onclick="addBanner()"/>
                </section>

                <!-- 회원 로그인 배너-->
                <section th:case="login" id="tabs4">
                    <h4>회원 로그인 배너</h4>
                    <p>
                        회원 로그인 폼 오른쪽에 노출되는 배너입니다.
                    </p>
                    <table>
                        <tr>
                            <th><input type="checkbox" name="all"/></th>
                            <th>배너번호</th>
                            <th>이미지</th>
                            <th>배너정보</th>
                            <th>배너위치</th>
                            <th>시작날짜</th>
                            <th>종료날짜</th>
                            <th>시작시간</th>
                            <th>종료시간</th>
                            <th>관리</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>201603292</td>
                            <td><img th:src="@{/member/images/member_login_banner.jpg}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>회원 - 로그인</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                    </table>
                    <input type="button" class="btnNegative" value="선택삭제"/>
                    <input type="button" class="btnPositive btnRegister" value="등록하기" onclick="addBanner()"/>
                </section>

                <!-- 마이페이지 배너-->
                <section th:case="myPage" id="tabs5">
                    <h4>마이페이지 배너</h4>
                    <p>
                        마이페이지 하위 모든 페이지에서 노출되는 배너입니다.
                    </p>
                    <table>
                        <tr>
                            <th><input type="checkbox" name="all"/></th>
                            <th>배너번호</th>
                            <th>이미지</th>
                            <th>배너정보</th>
                            <th>배너위치</th>
                            <th>시작날짜</th>
                            <th>종료날짜</th>
                            <th>시작시간</th>
                            <th>종료시간</th>
                            <th>관리</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox" name="배너번호"/></td>
                            <td>201603292</td>
                            <td><img th:src="@{/my/images/my_banner1.jpg}" class="thumb"></td>
                            <td>
                                <ul>
                                    <li class="name">배너이름</li>
                                    <li class="link"><a href="#">배너링크</a></li>
                                </ul>
                            </td>
                            <td>마이페이지</td>
                            <td>2023/01/01</td>
                            <td>2023/01/07</td>
                            <td>13:00</td>
                            <td>14:00</td>
                            <td>
                                <a href="#">[비활성]</a>
                                <a href="#">[활성]</a>
                            </td>
                        </tr>
                    </table>
                    <input type="button" class="btnNegative" value="선택삭제"/>
                    <input type="button" class="btnPositive btnRegister" value="등록하기" onclick="addBanner()"/>
                </section>
            </th:block>
        </th:block>
    </article>

    <p class="ico info">
        <strong>Tip!</strong>
        전자상거래 등에서의 상품 등의 정보제공에 관한 고시에 따라 총 35개 상품군에 대해 상품 특성 등을 양식에 따라 입력할 수 있습니다.
    </p>
    <!-- 배너 등록 form -->
    <div id="bannerRegister" class="popup">
        <div>
            <nav>
                <h1>배너등록</h1>
                <button class="btnClose">X</button>
            </nav>
            <section>
                <article>
                    <h3>배너 정보입력</h3>
                    <form th:action="@{/admin/config/register}" method="post" enctype="multipart/form-data"
                          id="prodForm">
                        <table border="0">
                            <tr>
                                <td>배너이름</td>
                                <td>
                                    <p>배너명을 입력하세요.</p>
                                    <input type="text" name="bnName" placeholder="배너명 입력"/>
                                </td>
                            </tr>
                            <tr>
                                <td>배너파일</td>
                                <td>
                                    <p>배너 이미지 파일을 추가하세요.</p>
                                    <input type="file" name="imgFile" placeholder="배너 이미지 파일 선택" onchange="chkImg(this)"
                                           accept=".gif, .jpg, .png, .jpeg, .bmp">
                                </td>
                            </tr>
                            <tr>
                                <td>배너링크</td>
                                <td>
                                    <p>배너를 클릭했을 때 이동할 페이지 링크주소를 입력하세요.</p>
                                    <input type="text" name="link" placeholder="링크주소 입력"/>
                                </td>
                            </tr>
                            <tr>
                                <td>배너위치</td>
                                <td>
                                    <p>배너가 노출되는 위치를 선택하십시요.</p>
                                    <select name="cate" onchange="infoSize(this.value)">
                                        <option value="0">선택</option>
                                        <option value="main-top">메인-상단</option>
                                        <option value="main-slider">메인-슬라이더</option>
                                        <option value="product">상품-상세보기</option>
                                        <option value="login">회원-로그인</option>
                                        <option value="myPage">마이페이지</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>배너 노출날짜</td>
                                <td>
                                    <p>배너가 노출되는 기간을 선택하십시요.</p>
                                    <input type="date" name="beginDate"/>
                                    <span>~</span>
                                    <input type="date" name="endDate"/>
                                </td>
                            </tr>
                            <tr>
                                <td>배너 노출시간</td>
                                <td>
                                    <p>배너가 노출되는 시간을 선택하십시요.</p>
                                    <input type="time" name="beginTime"/>
                                    <span>~</span>
                                    <input type="time" name="endTime"/>
                                </td>
                            </tr>
                        </table>

                        <p class="ico info banner" id="infoSize">
                        </p>
                        <div class="bannerSubmit">
                            <input type="submit" class="btnBannerSubmit" value="등록하기"/>
                        </div>

                    </form>
                </article>
            </section>
        </div>
    </div>
</section>